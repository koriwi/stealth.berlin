---
import { getCollection } from "astro:content";
import PostPreview from "../components/PostPreview.astro";
interface Props {
  id: string;
  name: string;
}
const { id, name } = Astro.props;
const posts = await getCollection("posts");
const filteredPosts = posts
  .filter((post) => post.slug.startsWith(id + "/"))
  .sort((a, b) => b.data.pubDate.getTime() - a.data.pubDate.getTime());
---

<h2>
  {name} Historie und
  <a class="text-center underline mb-6" href={"/gallerie/" + id}>Gallerie</a>
</h2>
<div class="grid grid-cols-2 gap-4">
  {filteredPosts.map((fp) => <PostPreview post={fp} />)}
</div>
